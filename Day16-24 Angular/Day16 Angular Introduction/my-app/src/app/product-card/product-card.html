<div class="card">
  <div class="image-container">
    <img [src]="product.image" [alt]="product.name">
    
    <span *ngIf="product.inventory === 0" class="badge out-stock">Sold Out</span>
    <span *ngIf="discountPercentage > 0 && product.inventory > 0" class="badge sale">
      -{{ discountPercentage }}%
    </span>
  </div>

  <div class="card-body">
    <h3>{{ product.name }}</h3>
    <p class="desc">{{ product.description }}</p>

    <div class="price-row">
      <span class="current-price">{{ product.price | currency }}</span>
      <span *ngIf="discountPercentage > 0" class="original-price">
        {{ product.originalPrice | currency }}
      </span>
    </div>

    <p class="inventory-msg" 
       [ngClass]="{'low-stock': product.inventory < 5 && product.inventory > 0}">
      <span *ngIf="product.inventory > 0; else noStockText">
        In Stock: {{ product.inventory }} units
      </span>
      <ng-template #noStockText>Unavailable</ng-template>
    </p>

    <button 
      class="btn-cart" 
      [disabled]="product.inventory === 0"
      (click)="onAddToCart()">
      {{ product.inventory === 0 ? 'Out of Stock' : 'Add to Cart' }}
    </button>
  </div>
</div>
