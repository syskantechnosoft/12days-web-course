import{a as Z}from"./chunk-GY5DDUQM.js";import{a as V,c as T,d as N,e as W,f as A,g as q,j as L,k,l as z,m as I,n as D,o as R,q as B}from"./chunk-CPNBL7NA.js";import{$ as U,Ca as F,D as l,Ea as P,Fa as O,J as h,S as m,T as s,W as y,X as r,Y as t,_ as w,a as x,aa as v,ba as p,da as a,fa as E,ga as f,ha as C,ia as S,p as M,q as g,r as _}from"./chunk-A6BHDAQB.js";function G(e,d){e&1&&(r(0,"div",8),a(1,"Name is required."),t())}function H(e,d){e&1&&a(0," Username is required. ")}function J(e,d){e&1&&a(0," Must be > 6 chars. ")}function K(e,d){e&1&&a(0," Alphanumeric only. ")}function Q(e,d){if(e&1&&(r(0,"div",8),m(1,H,1,0),m(2,J,1,0),m(3,K,1,0),t()),e&2){v();let n=p(15);l(),s(n.errors!=null&&n.errors.required?1:-1),l(),s(n.errors!=null&&n.errors.minlength?2:-1),l(),s(n.errors!=null&&n.errors.pattern?3:-1)}}function X(e,d){e&1&&a(0," Email is required. ")}function Y(e,d){e&1&&a(0," Invalid format (alphanumeric only, @ and .). ")}function $(e,d){if(e&1&&(r(0,"div",8),m(1,X,1,0),m(2,Y,1,0),t()),e&2){v();let n=p(21);l(),s(n.errors!=null&&n.errors.required?1:-1),l(),s(n.errors!=null&&n.errors.pattern?2:-1)}}var j=class e{route=M(F);router=M(P);userService=M(Z);user={id:0,name:"",username:"",email:"",role:"user"};isEditMode=!1;ngOnInit(){let d=this.route.snapshot.paramMap.get("id");if(d){this.isEditMode=!0;let n=this.userService.users().find(o=>o.id===+d);n&&(this.user=x({},n))}}onSubmit(){this.isEditMode?this.userService.updateUser(this.user):this.userService.addUser(this.user),this.router.navigate(["/signal-crud"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=h({type:e,selectors:[["app-user-form-signal"]],decls:36,vars:9,consts:[["userForm","ngForm"],["name","ngModel"],["username","ngModel"],["email","ngModel"],[1,"form-container"],[3,"ngSubmit"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModelChange","ngModel"],[1,"error"],["for","username"],["type","text","id","username","required","","minlength","7","pattern","^[a-zA-Z0-9]+$","name","username",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","required","","pattern","^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[a-zA-Z0-9]+$","name","email",3,"ngModelChange","ngModel"],["for","role"],["id","role","name","role",3,"ngModelChange","ngModel"],["value","user"],["value","admin"],[1,"actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/signal-crud",1,"btn","btn-secondary"]],template:function(n,o){if(n&1){let c=w();r(0,"div",4)(1,"h2"),a(2),t(),r(3,"form",5,0),U("ngSubmit",function(){return g(c),_(o.onSubmit())}),r(5,"div")(6,"label",6),a(7,"Name"),t(),r(8,"input",7,1),S("ngModelChange",function(i){return g(c),C(o.user.name,i)||(o.user.name=i),_(i)}),t(),m(10,G,2,0,"div",8),t(),r(11,"div")(12,"label",9),a(13,"Username"),t(),r(14,"input",10,2),S("ngModelChange",function(i){return g(c),C(o.user.username,i)||(o.user.username=i),_(i)}),t(),m(16,Q,4,3,"div",8),t(),r(17,"div")(18,"label",11),a(19,"Email"),t(),r(20,"input",12,3),S("ngModelChange",function(i){return g(c),C(o.user.email,i)||(o.user.email=i),_(i)}),t(),m(22,$,3,2,"div",8),t(),r(23,"div")(24,"label",13),a(25,"Role"),t(),r(26,"select",14),S("ngModelChange",function(i){return g(c),C(o.user.role,i)||(o.user.role=i),_(i)}),r(27,"option",15),a(28,"User"),t(),r(29,"option",16),a(30,"Admin"),t()()(),r(31,"div",17)(32,"button",18),a(33,"Save"),t(),r(34,"a",19),a(35,"Cancel"),t()()()()}if(n&2){let c=p(4),u=p(9),i=p(15),b=p(21);l(2),E("",o.isEditMode?"Edit":"Add"," User (Signals - Template Driven)"),l(6),f("ngModel",o.user.name),l(2),s(u.invalid&&(u.dirty||u.touched)?10:-1),l(4),f("ngModel",o.user.username),l(2),s(i.invalid&&(i.dirty||i.touched)?16:-1),l(4),f("ngModel",o.user.email),l(2),s(b.invalid&&(b.dirty||b.touched)?22:-1),l(4),f("ngModel",o.user.role),l(6),y("disabled",c.invalid)}},dependencies:[B,q,k,z,V,L,T,N,I,D,R,A,W,O],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:8px}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;text-decoration:none;border:none;border-radius:4px;cursor:pointer;text-align:center}.btn-primary[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:.8rem;margin-top:5px}"]})};export{j as UserFormSignalComponent};
